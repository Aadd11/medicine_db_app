# Руководство по первичной настройке и развёртыванию системы управления аптекой

## 1. Установка зависимостей

Перед началом работы убедитесь, что в системе установлены следующие компоненты:

- Python версии 3.10 или выше
- СУБД PostgreSQL
- Утилита управления пакетами `pip`

Установите все необходимые зависимости проекта:

```bash
pip install -r requirements.txt
```

## 2. Запуск приложения в режиме разработки

Для запуска приложения выполните команду:

```bash
python main.py
```

## 3. Настройка подключения к базе данных

При первом запуске откроется окно настройки подключения к базе данных. Доступны два режима:

### 3.1 Подключение к существующей базе данных

- Укажите параметры подключения: хост, порт, имя базы данных, имя пользователя и пароль.
- Нажмите кнопку **"Подключиться"**.

### 3.2 Создание новой базы данных

- Перейдите на вкладку **"Создание"**.
- Введите параметры подключения к PostgreSQL и имя новой базы данных.
- Нажмите кнопку **"Создать базу данных"**.

После успешного подключения откроется окно авторизации.

## 4. Создание учётной записи администратора

Если в базе данных отсутствуют пользователи, система предложит создать первую учётную запись администратора:

- Укажите имя пользователя (например, `admin`).
- Введите и подтвердите пароль (не менее 6 символов).
- Введите имя сотрудника.
- Нажмите кнопку **"Создать администратора"**.

После успешного создания учётной записи откроется форма входа в систему.

## 5. Вход в систему

- Введите имя пользователя и пароль администратора.
- Нажмите кнопку **"Войти"**.
- После успешной авторизации откроется главное окно управления.

## 6. Сборка проекта в виде исполняемого файла (.exe)

### 6.1 Подготовка среды

Для сборки под Windows необходимо использовать операционную систему Windows (физическую или виртуальную машину).

Установите необходимые инструменты:

```bash
pip install pyinstaller
```

### 6.2 Сборка исполняемого файла

Выполните команду:

```bash
pyinstaller --noconfirm --windowed --name pharmacy_app main.py
```

После выполнения будет создана директория `dist/pharmacy_app`, содержащая файл `pharmacy_app.exe`.

### 6.3 Распространение

- Для запуска на других машинах необходимо скопировать всю папку `dist/pharmacy_app`.
- Убедитесь, что на целевой системе установлен PostgreSQL.

## Примечания

- При возникновении ошибок проверьте вывод консоли: подробные сообщения отображаются при создании администратора и при подключении к базе данных.
- Повторно открыть окно настройки подключения можно по кнопке **"Настроить подключение"**.
- Имя пользователя должно быть уникальным в рамках системы.

---

Для отладки и ручной проверки содержимого базы данных можно использовать утилиту `psql` или любой другой SQL-клиент.

